button.close-button data-close='' aria-label='Close modal' type='button'
  span aria-hidden='true' &times;

= simple_form_for @result_statistic_section, remote: true do |f|
  table
    caption Measures

    tbody
      - @options.each do |option|
        / If option[3] is blank then this is a top level measure.
        - if option[3].blank?
          tr
            td
              = label_tag do
                => check_box_tag 'result_statistic_section[measure_ids][]', option[1], option[2].present? ? true : false, id: "result_statistic_section_measure_ids_#{ option[1] }"
                =< option[0]
            - @dict_of_dependencies[[] << option[1]].each do |dependent_opt|
              td
                = label_tag do
                  => check_box_tag 'result_statistic_section[measure_ids][]', dependent_opt[1], dependent_opt[2].present? ? true : false
                  =< dependent_opt[0]
            / Might need to adjust this to the max number of dependent measures.
            - (1..(5 - @dict_of_dependencies[[] << option[1]].length)).each do |cnt|
              td

  /= f.association :measures, as: :check_boxes, collection: @options

  = f.submit
